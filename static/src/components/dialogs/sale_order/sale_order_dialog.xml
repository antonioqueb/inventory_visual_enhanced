<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    
    <t t-name="inventory_visual_enhanced.SaleOrderDialog" owl="1">
        <Dialog size="'lg'">
            <div class="o_sale_order_dialog">
                <t t-if="soInfo.orders.length === 0">
                    <div class="text-center py-5">
                        <i class="fa fa-shopping-cart" style="font-size: 64px; color: #ccc;"></i>
                        <p class="text-muted mt-3">No hay Ã³rdenes de venta</p>
                    </div>
                </t>
                <t t-else="">
                    <t t-foreach="soInfo.orders" t-as="order" t-key="order.id">
                        <div class="card mb-3 border">
                            <div class="card-header bg-light border-bottom">
                                <div class="d-flex justify-content-between align-items-center">
                                    <h6 class="mb-0">
                                        <i class="fa fa-file-text-o me-2"></i>
                                        <strong t-esc="order.name"></strong>
                                    </h6>
                                    <span class="badge fs-6" t-att-class="getStateBadgeClass(order.state)">
                                        <t t-esc="order.state_display"/>
                                    </span>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="mb-2">
                                            <i class="fa fa-user text-muted me-2"></i>
                                            <strong>Cliente:</strong>
                                            <span class="ms-1" t-esc="order.partner_name"></span>
                                        </div>
                                        <div class="mb-2" t-if="order.user_name">
                                            <i class="fa fa-user-circle text-muted me-2"></i>
                                            <strong>Vendedor:</strong>
                                            <span class="ms-1" t-esc="order.user_name"></span>
                                        </div>
                                        <div>
                                            <i class="fa fa-calendar text-muted me-2"></i>
                                            <strong>Fecha:</strong>
                                            <span class="ms-1" t-esc="order.date_order"></span>
                                        </div>
                                    </div>
                                    <div class="col-md-6 text-end">
                                        <div t-if="order.commitment_date" class="mb-2">
                                            <small class="text-muted">Fecha de compromiso:</small><br/>
                                            <span class="badge bg-light text-dark border" t-esc="order.commitment_date"></span>
                                        </div>
                                        <div class="mt-2">
                                            <small class="text-muted d-block">Total:</small>
                                            <h4 class="mb-0 text-dark">
                                                <t t-esc="formatCurrency(order.amount_total, order.currency_symbol)"/>
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                </t>
            </div>

            <t t-set-slot="footer">
                <button class="btn btn-secondary btn-lg" t-on-click="props.close">
                    <i class="fa fa-times me-2"></i>
                    Cerrar
                </button>
            </t>
        </Dialog>
    </t>
    
</templates>